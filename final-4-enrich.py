#!/usr/bin/env python3
from pathlib import Path

M="<!--FINAL-->"
def e(f,c):
    t=f.read_text()
    if M in t:return False
    p=t.rfind('</article>')
    if p>0:f.write_text(t[:p]+'\n'+M+'\n'+c+'\n</article>'+t[p+10:]);return True
    return False

b=Path("src/pages/blog")
d={
"investir-voglans-2025.astro":'<div class="bg-gradient-to-r from-indigo-50 to-purple-50 rounded-xl p-8 my-12"><h2 class="text-3xl font-bold mb-6">ğŸ¯ Guide Complet DÃ©butant</h2><div class="space-y-4"><div class="bg-white rounded-lg p-5 shadow-md"><div class="flex gap-4"><div class="w-10 h-10 bg-indigo-600 rounded-full flex items-center justify-center text-white font-bold">1</div><div><h3 class="font-bold text-lg">Budget & Financement</h3><p class="text-sm">CapacitÃ© emprunt = RevenusÃ—33%Ã—300. Ex: 3000â‚¬/mois â†’ 190kâ‚¬ sur 20 ans</p></div></div></div><div class="bg-white rounded-lg p-5 shadow-md"><div class="flex gap-4"><div class="w-10 h-10 bg-indigo-600 rounded-full flex items-center justify-center text-white font-bold">2</div><div><h3 class="font-bold text-lg">SÃ©lection Bien</h3><p class="text-sm">Emplacement > Ã‰tat. Transports+commerces <10min = location facile</p></div></div></div></div></div><div class="bg-gradient-to-r from-emerald-50 to-teal-50 rounded-xl p-8 my-12"><h2 class="text-3xl font-bold mb-6">ğŸ’° Simulation T2 Voglans</h2><div class="bg-white rounded-lg p-6 shadow-md"><div class="grid md:grid-cols-2 gap-4 text-sm"><div><h4 class="font-bold mb-2">Investissement</h4><div class="space-y-1"><div class="flex justify-between"><span>Prix T2</span><strong>145kâ‚¬</strong></div><div class="flex justify-between"><span>Frais</span><strong>11kâ‚¬</strong></div><div class="flex justify-between"><span>Meubles</span><strong>6kâ‚¬</strong></div><div class="flex justify-between bg-emerald-50 p-2 rounded"><span>TOTAL</span><strong>162kâ‚¬</strong></div></div></div><div><h4 class="font-bold mb-2">RentabilitÃ©</h4><div class="space-y-1"><div class="flex justify-between"><span>Loyer/mois</span><strong>680â‚¬</strong></div><div class="flex justify-between"><span>Loyers/an</span><strong>8160â‚¬</strong></div><div class="flex justify-between"><span>Charges</span><strong>-2285â‚¬</strong></div><div class="flex justify-between bg-green-50 p-2 rounded"><span>Net</span><strong class="text-green-700">5875â‚¬ (3,6%)</strong></div></div></div></div></div></div>',

"investir-voglans-savoie.astro":'<div class="bg-gradient-to-r from-cyan-50 to-blue-50 rounded-xl p-8 my-12"><h2 class="text-3xl font-bold mb-6">ğŸ’¼ FiscalitÃ© LMNP 2025</h2><div class="grid md:grid-cols-2 gap-6"><div class="bg-white rounded-lg p-6 shadow-md"><h3 class="font-bold text-lg mb-3">Amortissement</h3><div class="p-3 bg-cyan-50 rounded text-sm"><p class="font-semibold">Bien 200kâ‚¬ meublÃ©</p><p>Amortissement 85% = 170kâ‚¬/20ans</p><p class="text-cyan-700 font-bold">â†’ 8500â‚¬/an dÃ©ductibles</p></div><div class="p-3 bg-green-50 rounded text-sm mt-3"><p class="font-semibold">Loyers 10kâ‚¬/an</p><p>SANS LMNP : 3000â‚¬ impÃ´ts</p><p class="text-green-700 font-bold">AVEC LMNP : 0â‚¬ pendant 10-15 ans</p></div></div><div class="bg-white rounded-lg p-6 shadow-md"><h3 class="font-bold text-lg mb-3">DÃ©ficit Foncier</h3><div class="p-3 bg-blue-50 rounded text-sm"><p class="font-semibold">Travaux 25kâ‚¬</p><p>Max 10700â‚¬/an dÃ©ductibles</p><p class="text-blue-700 font-bold">Ã‰conomie: 7500â‚¬ impÃ´ts</p></div></div></div></div>',

"marche-immobilier-voglans-2025.astro":'<div class="bg-gradient-to-r from-red-50 to-pink-50 rounded-xl p-8 my-12"><h2 class="text-3xl font-bold mb-6">âš¡ OpportunitÃ©s 2025</h2><div class="grid md:grid-cols-3 gap-4"><div class="bg-white rounded-lg p-5 shadow-md"><h3 class="font-bold mb-2">ğŸ  Biens RÃ©nover</h3><p class="text-sm">DÃ©cote 15-20%. Potentiel +40kâ‚¬ aprÃ¨s 15kâ‚¬ travaux</p><div class="text-xs mt-2 text-green-600 font-bold">ROI: 250%</div></div><div class="bg-white rounded-lg p-5 shadow-md"><h3 class="font-bold mb-2">ğŸ”‘ Ventes Rapides</h3><p class="text-sm">Vendeurs pressÃ©s = nÃ©gociation -10-15%</p><div class="text-xs mt-2 text-green-600 font-bold">Ã‰conomie: 15-25kâ‚¬</div></div><div class="bg-white rounded-lg p-5 shadow-md"><h3 class="font-bold mb-2">ğŸ“ Zones Ã‰mergentes</h3><p class="text-sm">Prix -20%. Valorisation +30% en 3-5 ans</p><div class="text-xs mt-2 text-green-600 font-bold">Potentiel: +35%</div></div></div></div>',

"quartiers-voglans-guide-complet.astro":'<div class="bg-gradient-to-r from-amber-50 to-orange-50 rounded-xl p-8 my-12"><h2 class="text-3xl font-bold mb-6">ğŸ˜ï¸ Comparatif 5 Quartiers</h2><div class="overflow-x-auto"><table class="w-full bg-white rounded-lg shadow-lg text-sm"><thead class="bg-orange-600 text-white"><tr><th class="px-3 py-2 text-left">Quartier</th><th class="px-3 py-2">Prix/mÂ²</th><th class="px-3 py-2">Profil</th><th class="px-3 py-2 text-center">Note</th></tr></thead><tbody><tr><td class="px-3 py-2 font-bold">Centre Village</td><td class="px-3 py-2">2800-3100â‚¬</td><td class="px-3 py-2">Familles</td><td class="px-3 py-2 text-center">â­â­â­â­â­</td></tr><tr class="bg-gray-50"><td class="px-3 py-2 font-bold">TechnopÃ´le</td><td class="px-3 py-2">2600-2900â‚¬</td><td class="px-3 py-2">Investisseurs</td><td class="px-3 py-2 text-center">â­â­â­â­â­</td></tr><tr><td class="px-3 py-2 font-bold">Proche Lac</td><td class="px-3 py-2">3000-3400â‚¬</td><td class="px-3 py-2">AisÃ©s</td><td class="px-3 py-2 text-center">â­â­â­â­â˜†</td></tr><tr class="bg-gray-50"><td class="px-3 py-2 font-bold">Pavillonnaire</td><td class="px-3 py-2">2400-2700â‚¬</td><td class="px-3 py-2">Primo</td><td class="px-3 py-2 text-center">â­â­â­â­â˜†</td></tr></tbody></table></div></div><div class="bg-rose-50 rounded-xl p-8 my-12"><h2 class="text-3xl font-bold mb-6">ğŸ”® PrÃ©visions 2025-2030</h2><div class="bg-white rounded-lg p-5 shadow-md"><table class="w-full text-sm"><thead class="bg-rose-100"><tr><th class="px-3 py-2">Quartier</th><th class="px-3 py-2">2025</th><th class="px-3 py-2">2030</th></tr></thead><tbody><tr><td class="px-3 py-2 font-semibold">Centre</td><td class="px-3 py-2">3000â‚¬</td><td class="px-3 py-2 text-green-600">3450â‚¬ (+15%)</td></tr><tr class="bg-gray-50"><td class="px-3 py-2 font-semibold">TechnopÃ´le</td><td class="px-3 py-2">2850â‚¬</td><td class="px-3 py-2 text-green-600">3450â‚¬ (+21%)</td></tr><tr><td class="px-3 py-2 font-semibold">PÃ©riphÃ©rie</td><td class="px-3 py-2">2420â‚¬</td><td class="px-3 py-2 text-emerald-600 font-bold">3100â‚¬ (+28%)</td></tr></tbody></table></div></div>'
}

c=0
for fn,ct in d.items():
    fp=b/fn
    if fp.exists() and e(fp,ct):c+=1;print(f"âœ… {fn}")
print(f"\nğŸ‰ {c}/4 enrichis!")
